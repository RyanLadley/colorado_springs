<div class = "page-title">
    <div class = "large-title-info">
        <h1> {{account.description}}</h1>
        <info-tip message = "This page display detailed information for account {{accountName}}."></info-tip>
    </div>
    <h2> {{accountName}} </h2>
</div>

<div class = "account-left">
    <div class = "area account-summary">
        <h2 class = "title"> Account Summary </h2>
        <div class = "summary-content">
            <h3 class = "section-title"> Monthly Totals </h3>
            <div class = "section-inset content-values">
                <table class = "monthly-summary-table">
                    <tr ng-repeat = "month in months">
                        <td><h4>{{month}}</h4></td>
                        <td>{{monthlyTotals[$index]/account.total_budget | percentage:2}}</td>
                        <td class = "currency">{{monthlyTotals[$index] | currency}}</td>
                    </tr>
                </table>

            </div>
            <div class = "month-selection">
                <h3 class = "section-title"> Month Selection </h3>
                <select class = "month-dropdown" ng-model = "selectedMonth" ng-options = "months.indexOf(month) as month for month in months">S</select>
            </div>
        </div>
    </div>

    <div class = "area account-summary">
        <h2 class = "title"> Budget Summary </h2>
        <div class = "summary-content">
            <h3 class = "section-title"> Budget </h3>
            <div class = "section-inset content-values">
                <div class = "label-value">
                    <h4 class = "label">Budget</h4>
                    <p class = "value">{{account.total_budget | currency}}</p>
                </div>
                <div class = "label-value">
                    <h4 class = "label">Expensed</h4>
                    <p class = "value">{{account.expendetures | currency}}</p>
                </div>
                <div class = "label-value">
                    <h4 class = "label">Remaining</h4>
                    <p class = "value">{{account.remaining | currency}}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class = "table-header month-table-header">
    <h2>{{months[selectedMonth]}} Transactions</h2>
    <table id = "account-table" class = "table alternate-table">
        <tr ng-if = "transactions.length > 0">
            <th> Account</th>
            <th>Vendor</th>
            <th>Invoice Date</th>
            <th>Date Paid</th>
            <th>Invoice Number</th>
            <th>Descrpition</th>
            <th>Total Expense</th>
        </tr>

        <tr ng-repeat = "transaction in transactions" class = "row" ng-if = "transactions.length > 0">
            <td><account-name  account-id = "transaction.account_id" account-no = "transaction.account_no" sub-no = "transaction.sub_no" shred-no = "transaction.shred_no"></account-name></td>
            <td>{{transaction.vendor_name}}</td>
            <td>{{transaction.invoice_date}}</td>
            <td>{{transaction.date_paid}}</td>
            <td class = "center">{{transaction.invoice_no}}</td>
            <td class = "description account-desription">{{transaction.description}}</td>
            <td class = "currency">{{transaction.expense | currency}}</td>
        </tr>
        <tr class = "total" ng-if = "transactions.length > 0">
            <td colspan="6">{{months[selectedMonth]}} Total</td>
            <td> {{monthlyTotals[selectedMonth] | currency }}</td>
        </tr>

        <tr ng-if = "!transactions.length > 0">
            <th colspan="8"></th>
        </tr>
        <tr ng-if = "!transactions.length > 0">
            <td colspan="8" class = "center">There are currently no transactions for {{months[selectedMonth]}}</td>
        </tr>
    </table>
<div>