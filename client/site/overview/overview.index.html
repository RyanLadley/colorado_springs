<div class = "page-title">
    <h1 >Overview</h1>
</div>

<div class = "table-header overview-table-header">
    <h2>Accounts Overview</h2>
    <table id = "overview-table" class = "table">
        <tr>
            <th>Account</th>
            <th>Description</th>
            <th>2017 Budget</th>
            <th>Misc Transfer</th>
            <th>Total Budget</th>
            <th>Expedetures to Date</th>
            <th>Remaining Balance</th>
        </tr>

        <tbody  ng-repeat = "account in accounts">
            <tr ng-click = "account.showSubaccount = !account.showSubaccount" class = "account-row account-{{acount.accountNo}}">
                <td class = "account"> <a href = "/overview/account/1" >{{account.accountNo}}</a></td>
                <td class = "description"> {{account.description}}</td>
                <td class = "currency"> {{account.yearBudget | currency}}</td>
                <td class = "currency"> {{account.miscTransfer | currency}}</td>
                <td class = "currency"> {{account.totalBudget | currency}}</td>
                <td class = "currency"> {{account.expendToDate | currency}}</td>
                <td class = "currency"> {{account.remainingBalance | currency}}</td>
            </tr>
            <tr ng-repeat-start = "subaccount in account.subaccounts" class = "subaccount-row account-{{subacount.accountNo}}"
                ng-show = "account.showSubaccount" ng-click = "subaccount.showSubaccount = !subaccount.showSubaccount">
                <td class = "account sub-account"> <a href = "/overview/account/1">{{subaccount.accountNo}}</a></td>
                <td class = "description"> {{subaccount.description}}</td>
                <td></td>
                <td class = "currency"> {{subaccount.miscTransfer | currency}}</td>
                <td class = "currency"> {{subaccount.totalBudget | currency}}</td>
                <td class = "currency"> {{subaccount.expendToDate | currency}}</td>
                <td class = "currency"> {{subaccount.remainingBalance | currency}}</td>
            </tr>
            <tr ng-repeat-end ng-repeat = "sub in subaccount.sub" class = "sub-row account-{{sub.accountNo}}"
                ng-show = "subaccount.showSubaccount && account.showSubaccount">
                <td class = "account sub"><a href = "/overview/account/1">{{sub.accountNo}}</a></td>
                <td class = "description"> {{sub.description}}</td>
                <td> </td>
                <td class = "currency"> {{sub.miscTransfer | currency}}</td>
                <td class = "currency"> {{sub.totalBudget | currency}}</td>
                <td class = "currency"> {{sub.expendToDate | currency}}</td>
                <td class = "currency"> {{sub.remainingBalance | currency}}</td>
            </tr>
        </tbody>
    </table>
</div>

<div class = "refrence-area area">
    <h2 class = "title"> Quick Refrence </h2>
    <div class = "section-area">
        <h3 class = "section-title">Accounts</h3>
        <div class ="section-inset">
            <div ng-repeat = "account in accounts" >
                <a class = "account-refrence" href = "/overview/account/1">{{account.accountNo}}</a>
                <div ng-repeat = "subaccount in account" >
                    <a class = "account-refrence" href = "/overview/account/1">{{subaccount.accountNo}}</a>
                    <div ng-repeat = "sub in subaccount" >
                        <a class = "account-refrence" href = "/overview/account/1">{{sub.accountNo}}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>