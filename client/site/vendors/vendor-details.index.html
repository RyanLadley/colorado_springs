<div class = "page-title">
    <div class = "large-title-info">
        <h1> {{vendor.name}}</h1>
        <info-tip message = "This page displays detailed information for the vendor {{vendor.name}}."></info-tip>
    </div>
</div>

<div class = "table-header vendor-table-header">
    <h2>{{vendor.name}} Transactions</h2>
    <table id = "vendor-table" class = "table alternate-table" >
        <tr ng-if = "vendor.transactions.length > 0">
            <th>Account</th>
            <th>Vendor</th>
            <th>Invoice Date</th>
            <th>Date Paid</th>
            <th>Invoice Number</th>
            <th>Descrpition</th>
            <th>Total Expense</th>
        </tr>

        <tr ng-repeat = "transaction in vendor.transactions" class = "row clickable" ng-if = "vendor.transactions.length > 0">
            <td><account-name  account-id = "transaction.account_id" account-no = "transaction.account_no" sub-no = "transaction.sub_no" shred-no = "transaction.shred_no"></account-name></td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)">{{transaction.vendor_name}}</td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)">{{transaction.invoice_date}}</td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)">{{transaction.date_paid}}</td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)" class = "center">{{transaction.invoice_no}}</td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)" class = "description account-desription">{{transaction.description}}</td>
            <td  ng-click ="displayTransactionDetails(transaction.transaction_id)" class = "currency">{{transaction.expense | currency}}</td>
        </tr>
        <tr class = "total" ng-if = "vendor.transactions.length > 0">
            <td colspan="6">Total Expensed</td>
            <td> {{total_expense | currency}}</td>
        </tr>
        <tr ng-if = "!vendor.transactions.length > 0">
            <th colspan="8"></th>
        </tr>
        <tr ng-if = "!vendor.transactions.length > 0">
            <td colspan="8" class = "center">There are currently no transactions for {{vendor.name}}</td>
        </tr>
    </table>
</div>

<div class = "vendor-area area" >
    <h2 class = "title"> {{vendor.name}} Details </h2>
    <div class = "section-area">


        <h3 class = "section-title">Icon</h3>
    	<div class ="section-inset vendor-details-inset">
    		<img src = "/image/vendors/{{vendor.image}}" class = "vendor-image">
    	</div>

        <h3 class = "section-title">Contract</h3>
        <div class ="section-inset vendor-details-inset">
	        <div class = "label-value">
	           	<h3 class = "label">Contract Number</h3>
	            <p class = "value"> {{vendor.contract_no}}</p>
	       	</div>
        	<div class = "label-value">
	           	<h3 class = "label">Start Date</h3>
	            <p class = "value"> {{vendor.contract_start}}</p>
        	</div>
        	<div class = "label-value">
	           	<h3 class = "label">End Date</h3>
	            <p class = "value">{{vendor.contract_end}}</p>
        	</div>
        </div>

        <h3 class = "section-title">Contact Information</h3>

        <div class ="section-inset vendor-details-inset">
	        <div class = "label-value">
	           	<h3 class = "label">Point of Contact</h3>
	            <p class = "value"> {{vendor.point_of_contact}}</p>
	       	</div>
        	<div class = "label-value">
	           	<h3 class = "label">Phone Number</h3>
	            <p class = "value"> {{vendor.phone_no}}</p>
        	</div>
        	<div class = "label-value">
	           	<h3 class = "label">Address</h3>
	            <p class = "value">{{vendor.address}}<br>{{vendor.city}}, {{vendor.state}}, {{vendor.zip}}</p>
        	</div>
        	<div class = "label-value">
	           	<h3 class = "label">Email</h3>
	            <p class = "value"> {{vendor.email}}</p>
        	</div>
        	<div class = "label-value">
	           	<h3 class = "label">Website</h3>
	            <p class = "value"> <a href="http://{{vendor.website}}" target="_blank">{{vendor.website}}</a></p>
        	</div>
        </div>
    </div>
    </div>
</div>

<transaction-dialog display = "toggleTransactionDialog" transaction = "dialogTransaction"></transaction-dialog>